<%= turbo_frame_tag "books_table", class: "shadow overflow-hidden rounded border-b border-gray-200" do %>
  <table class="min-w-full bg-white">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th id="books-title" class="text-left lg:py-3 py-2 lg:px-6 px-3 uppercase font-semibold text-sm hover:cursor-pointer">
          <%= sort_link(column: "title", label: "Title") %>
          <%= sort_indicator if params[:column] == "title" %>
        </th>
        <th id="books-author" class="text-left lg:py-3 py-2 lg:px-6 px-3 uppercase font-semibold text-sm hover:cursor-pointer">
          <%= sort_link(column: "authors.last_name", label: "Author") %>
          <%= sort_indicator if params[:column] == "authors.last_name" %>
        </th>
        <th id="books-genre" class="text-left lg:py-3 py-2 lg:px-6 px-3 uppercase font-semibold text-sm hover:cursor-pointer">
          <%= sort_link(column: "genre", label: "Genre") %>
          <%= sort_indicator if params[:column] == "genre" %>
        </th>
        <th id="books-pages" class="text-left lg:py-3 py-2 lg:px-6 px-3 uppercase font-semibold text-sm hover:cursor-pointer">
          <%= sort_link(column: "pages", label: "# of Pages") %>
          <%= sort_indicator if params[:column] == "pages" %>
        </th>
      </tr>
    </thead>

    <tbody class="text-gray-700">
      <% books.each do |book| %>
        <tr>
          <td class="text-left lg:py-3 py-2 lg:px-6 px-3">
            <a href="/books/<%= book.id %>" data-turbo="false">
              <%= book.title %>
            </a>
          </td>
          <td class="text-left lg:py-3 py-2 lg:px-6 px-3">
            <a href="/authors/<%= book.author.id %>" data-turbo="false">
              <%= book.author.name %>
            </a>
          </td>
          <td class="text-left lg:py-3 py-2 lg:px-6 px-3"><%= book.genre %></td>
          <td class="text-left lg:py-3 py-2 lg:px-6 px-3"><%= book.pages %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>